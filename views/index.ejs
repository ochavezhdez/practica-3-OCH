<!DOCTYPE html>
<html lang="es" ng-app="libApp">
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/lib/bootstrap/dist/css/bootstrap.min.css' />
  </head>
  <body ng-controller="bookCtrl">    
    <script type="text/javascript" src="/lib/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/lib/angular/angular.js"></script>
    <script type="text/javascript" src="/js/controllers/libCtrl.js"></script>
    <script type="text/javascript" src="/js/services/libService.js"></script>
    <script type="text/javascript" src="/js/libApp.js"></script>

    <h1><%= title %></h1>

    <div class="form-inline my-2 my-lg-0 form-group">
      <input type="text" ng-model="id" placeholder="Insertar id a buscar" class="form-control mr-sm-2">
      <button ng-click="searchBookById(id)" class="btn btn-info">Buscar</button>
    </div>

    <div class="form-inline my-2 my-lg-0 form-group">
      <input type="hidden" ng-model="modify">
      <input type="text" ng-model="book.title" placeholder="Insertar título" class="form-control mr-sm-2">
      <input type="text" ng-model="book.author" placeholder="Insertar autor" class="form-control mr-sm-2">
      <input type="text" ng-model="book.year" placeholder="Insertar año" class="form-control mr-sm-2">
      <button ng-click="saveBook()" class="btn btn-success">Guardar</button>
      <button ng-click="getBooks()" class="btn btn-primary">Cargar</button>
    </div>

    <table class="table table-striped table-hover table-bordered">
      <tr>
        <th>Id</th>
        <th>Título</th>
        <th>Autor</th>
        <th>Año</th>
      </tr>
      <tr ng-repeat="book in books">
        <th>{{book._id}}</th>
        <th>{{book.title}}</th>
        <th>{{book.author}}</th>
        <th>{{book.year}}</th>
        <th><button ng-click="modifyBook(book)" class="btn btn-warning">Actualizar</button></th>
        <th><button ng-click="deleteBook(book._id)" class="btn btn-danger">Eliminar</button></th>
      </tr>
    </table>
  </body>
</html>